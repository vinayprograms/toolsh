#!/bin/bash

if [[ -z $SNIPDIR ]]; then 
	echo "\$SNIPDIR is undefined. Please set it in ~/.bashrc first." > /dev/stderr
	exit -1
fi
if [[ ! -d "$SNIPDIR" ]]; then
	echo "$SNIPDIR doesn't exist. Please create it and add one directory per category under it" > /dev/stderr
	exit -1
fi
if [[ ! -d "$SNIPDIR/$1" ]]; then
	echo "Cannot find category '$1'. Please create directory '$SNIPDIR/$1'" > /dev/stderr
	exit -1
fi
if [[ ! -f "$SNIPDIR/$1/$2.txt" ]]; then
	echo "Cannot find snippet '$2'. Please create file '$SNIPDIR/$1/$2.txt'" > /dev/stderr
	exit -1
fi
 

SNIPPET="$SNIPDIR/$1/$2.txt"
cat "$SNIPPET"
